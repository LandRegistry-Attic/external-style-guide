Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),function(){"use strict";var a=this,b=a.jQuery;"undefined"==typeof GOVUK&&(a.GOVUK={});var c=function(a,c){this.$elms=a,this.selectedClass="selected",this.focusedClass="focused",void 0!==c&&b.each(c,function(a,b){this[a]=b}.bind(this)),this.setEventNames(),this.getSelections(),this.bindEvents()};c.prototype.setEventNames=function(){this.selectionEvents="click",this.focusEvents="focus blur"},c.prototype.markFocused=function(a,b){a.attr("id");"focused"===b?a.parent("label").addClass(this.focusedClass):a.parent("label").removeClass(this.focusedClass)},c.prototype.bindEvents=function(){var a=this.markSelected.bind(this),c=this.markFocused.bind(this);this.$elms.on(this.selectionEvents,function(c){a(b(c.target))}).on(this.focusEvents,function(a){var d="focus"===a.type?"focused":"blurred";c(b(a.target),d)})};var d=function(){c.apply(this,arguments)};d.prototype.setEventNames=function(){this.selectionEvents="click change",this.focusEvents="focus blur"},d.prototype.getSelections=function(){var a=this.markSelected.bind(this),c={};b.each(this.$elms,function(d,e){var f=b(e),g=f.attr("name");"undefined"==typeof c[g]&&(c[g]=!1),f.is(":checked")&&(a(f),c[g]=f)}),this.selections=c},d.prototype.bindEvents=function(){c.prototype.bindEvents.call(this)},d.prototype.markSelected=function(a){var b=a.attr("name"),c=this.selections[b];c&&c.parent("label").removeClass(this.selectedClass),a.parent("label").addClass(this.selectedClass),this.selections[b]=a},d.prototype.markFocused=function(){c.prototype.markFocused.apply(this,arguments)};var e=function(){c.apply(this,arguments)};e.prototype.setEventNames=function(){c.prototype.setEventNames.call(this)},e.prototype.getSelections=function(){var a=this.markSelected.bind(this);this.$elms.each(function(c,d){var e=b(d);e.is(":checked")&&a(e)})},e.prototype.bindEvents=function(){c.prototype.bindEvents.call(this)},e.prototype.markSelected=function(a){a.is(":checked")?a.parent("label").addClass(this.selectedClass):a.parent("label").removeClass(this.selectedClass)},e.prototype.markFocused=function(){c.prototype.markFocused.apply(this,arguments)},a.GOVUK.RadioButtons=d,a.GOVUK.CheckboxButtons=e;var f=function(a,b){var c=a.filter("[type=radio]"),d=a.filter("[type=checkbox]");c&&new GOVUK.RadioButtons(c,b),d&&new GOVUK.CheckboxButtons(d,b)};a.GOVUK.selectionButtons=f}.call(this);